(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,a){e.exports={wrapper:"secondpage_wrapper__3E1u1",city:"secondpage_city__5_Mwd",link:"secondpage_link__22toA",data:"secondpage_data__2Tg24",temperature:"secondpage_temperature__2bn3J",humidity:"secondpage_humidity__eJdRE"}},14:function(e,t,a){e.exports={wrapper:"container_wrapper__3050D",upper_container:"container_upper_container__1QPCi",lower_container:"container_lower_container__3fNUm",link:"container_link__1fflm"}},16:function(e,t,a){e.exports={weatherlist:"mainpage_weatherlist__ebiE2",add_button:"mainpage_add_button__1AOcy"}},17:function(e,t,a){e.exports={main_form:"input_main_form__1GyPA",input:"input_input__zY48e"}},33:function(e,t,a){e.exports=a.p+"static/media/snow.dcade456.jpg"},34:function(e,t,a){e.exports=a.p+"static/media/sun.3a92b69a.jpg"},35:function(e,t,a){e.exports=a.p+"static/media/mist.456e50a5.jpg"},36:function(e,t,a){e.exports=a.p+"static/media/cloudy.68a2164a.jpg"},37:function(e,t,a){e.exports=a.p+"static/media/thunderstorm.4a1a91b6.jpg"},38:function(e,t,a){e.exports=a.p+"static/media/rain.7d07ea23.jpg"},40:function(e,t,a){e.exports=a(71)},45:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(30),c=a.n(i),o=(a(45),a(8)),m=a(39),l=a(13),u=a.n(l),s=a(16),d=a.n(s),p=a(17),h=a.n(p),f=a(11),g=a(14),_=a.n(g),w={Clouds:"cloudy",Clear:"sun",Snow:"snow",Rain:"rain",Drizzle:"rain",Thunderstorm:"thunder",Mist:"mist"},y=function(e){var t=e.cityName,a=e.temperature,n=e.humidity,i=e.weather,c=e.weather_icon,o=e.redirect;return r.a.createElement("div",{className:_.a.wrapper,onClick:function(){o({temp:a,humidity:n,weather:w[c]})}},r.a.createElement(f.b,{to:"city/".concat(t),className:_.a.link},r.a.createElement("div",{className:_.a.upper_container},r.a.createElement("div",null,t),r.a.createElement("div",null,"".concat(Math.round(a),"\xb0C"))),r.a.createElement("div",{className:_.a.lower_container},r.a.createElement("div",null,"".concat(n,"%")),r.a.createElement("div",null,r.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(i,"@2x.png"),alt:"..."})))))};var v=function(e){var t=e.add,a=Object(n.useState)(null),i=Object(o.a)(a,2),c=i[0],m=i[1];return r.a.createElement("form",{onSubmit:function(e){return function(e){var a=null;e.preventDefault(),a=c.split(" ").length>1?"weather?lat=".concat(c.split(" ")[0],"&lon=").concat(c.split(" ")[1]):isNaN(c)?"weather?q=".concat(c):"group?id=".concat(c),u.a.get("https://api.openweathermap.org/data/2.5/".concat(a,"&units=metric&appid=795f138d9f6871399760a03fac9ace13")).then((function(e){200===e.status&&(""!==e.data.name?(localStorage.setItem("cities","".concat(localStorage.getItem("cities"),",").concat(e.data.id)),t(r.a.createElement(y,{cityName:e.data.name,temperature:e.data.main.temp,humidity:e.data.main.humidity,weather:e.data.weather[0].icon,weather_icon:e.data.weather[0].main}))):alert("Invalid coordinates."))}))}(e)},className:h.a.main_form},r.a.createElement("input",{type:"text",onChange:function(e){return m(e.target.value)},className:h.a.input}))},E="3169070,6359304,2950159,6455259,524901",b=function(e){var t=e.redirect,a=Object(n.useState)([]),i=Object(o.a)(a,2),c=i[0],l=i[1],s=Object(n.useState)(!1),p=Object(o.a)(s,2),h=p[0],f=p[1];Object(n.useEffect)((function(){var e=localStorage.getItem("location");null===e?navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){(e={}).lat=t.coords.latitude,e.long=t.coords.longitude,localStorage.setItem("location",JSON.stringify(e))})):((e={}).lat=55,e.long=37,localStorage.setItem("location",JSON.stringify(e))):e=JSON.parse(e);var a=localStorage.getItem("cities");null===a&&(localStorage.setItem("cities",E),a=E),u.a.get("https://api.openweathermap.org/data/2.5/group?id=".concat(a,"&units=metric&appid=795f138d9f6871399760a03fac9ace13")).then((function(a){var n=[],i=a.data.list;n=i.map((function(e){return r.a.createElement(y,{cityName:e.name,humidity:e.main.humidity,temperature:e.main.temp,weather:e.weather[0].icon,weather_icon:e.weather[0].main,key:i.indexOf(e),redirect:function(e){return t(e)}})})),u.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(e.lat,"&lon=").concat(e.long,"&units=metric&appid=795f138d9f6871399760a03fac9ace13")).then((function(e){n.push(r.a.createElement(y,{cityName:e.data.name,humidity:e.data.main.humidity,temperature:e.data.main.temp,weather:e.data.weather[0].icon,weather_icon:e.data.weather[0].main,key:n.length,redirect:function(e){return t(e)}})),l(n)}))}))}),[t]);return r.a.createElement("div",null,r.a.createElement("div",{className:d.a.weatherlist},c),h?r.a.createElement(v,{add:function(e){return function(e){l([].concat(Object(m.a)(c),[e]))}(e)}}):null,r.a.createElement("button",{className:d.a.add_button,type:"button",onClick:function(){return f(!h)}},"+"))},N=a(10),j=a.n(N),O=a(33),k=a.n(O),S=a(34),x=a.n(S),I=a(35),C=a.n(I),J=a(36),A=a.n(J),D=a(37),M=a.n(D),z=a(38),P=a.n(z),T={sun:x.a,snow:k.a,mist:C.a,cloudy:A.a,thunder:M.a,rain:P.a};var B=function(e){var t=e.match,a=e.temp,n=e.humidity,i=e.weather;return console.log(i),r.a.createElement("div",{className:j.a.wrapper,style:{backgroundImage:"url(".concat(T[i],")")}},r.a.createElement(f.b,{to:"/",className:j.a.link},"\u21e6"),r.a.createElement("div",{className:j.a.city},t.params.name),r.a.createElement("div",{className:j.a.data},r.a.createElement("div",{className:j.a.temperature},"".concat(Math.round(a),"\xb0C")),r.a.createElement("div",{className:j.a.humidity},"".concat(n,"%"))))},R=a(7);a(70);var W=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],i=t[1];return r.a.createElement(f.a,{basename:"".concat("/2019-2-Atom-Frontend-D-Tsyrkov","/")},r.a.createElement(R.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(b,Object.assign({},e,{redirect:function(e){return function(e){i(e)}(e)}}))}}),r.a.createElement(R.a,{path:"/city/:name",render:function(e){return r.a.createElement(B,Object.assign({},e,{temp:a.temp,humidity:a.humidity,weather:a.weather}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.3bc03df1.chunk.js.map